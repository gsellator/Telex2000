var mongoose=require("mongoose"),Schema=mongoose.Schema,model=module.exports,apiUri="http://127.0.0.1:3000/",TelexSchema=new Schema({date:{type:Date},name:{type:String},telex:{type:String}}),YoSchema=new Schema({date:{type:Date},username:{type:String}}),YoallSchema=new Schema({date:{type:Date}});mongoose.model("Telex",TelexSchema),mongoose.model("Yo",YoSchema),mongoose.model("Yoall",YoallSchema);var TelexModel=mongoose.model("Telex"),YoModel=mongoose.model("Yo"),YoallModel=mongoose.model("Yoall");model.getTelexs=function(e){TelexModel.find().sort({_id:-1}).limit(5).exec(function(o,l){if(o)throw o;e(l)})},model.getTelexFromId=function(e,o){TelexModel.findOne({_id:e},function(e,l){if(e)throw e;o(l)})},model.createTelex=function(e,o,l,n){var t=new TelexModel({date:e,name:o,telex:l});t.save(function(e,o){if(e)throw e;n(o)})},model.deleteTelex=function(e,o){TelexModel.remove({_id:e},function(e,l){if(e)throw e;o(l)})},model.getYos=function(e){YoModel.find().sort({_id:-1}).limit(5).exec(function(o,l){if(o)throw o;e(l)})},model.createYo=function(e,o,l){var n=new YoModel({date:e,username:o});n.save(function(e,o){if(e)throw e;l(o)})},model.deleteYo=function(e,o){YoModel.remove({_id:e},function(e,l){if(e)throw e;o(l)})},model.getYoalls=function(e){YoallModel.find({},function(o,l){if(o)throw o;e(l)})},model.createYoall=function(e,o){var l=new YoallModel({date:e});l.save(function(e,l){if(e)throw e;o(l)})},model.deleteYoall=function(e,o){YoallModel.remove({_id:e},function(e,l){if(e)throw e;o(l)})};